var $jscomp={scope:{},inherits:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}},Vector2=function(a,b){this.x=a;this.y=b};Vector2.prototype.add=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return new Vector2(this.x+a.x,this.y+a.y)};
Vector2.prototype.sub=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return new Vector2(this.x-a.x,this.y-a.y)};Vector2.prototype.mul=function(a){return new Vector2(this.x*a,this.y*a)};Vector2.prototype.div=function(a){return 0!=a?new Vector2(this.x/a,this.y/a):null};Vector2.prototype.neg=function(){return this.mul(-1)};Vector2.prototype.dot=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return this.x*a.x+this.y*a.y};
Vector2.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};Vector2.prototype.dist=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return this.sub(a).mag()};Vector2.prototype.normalize=function(){var a=this.mag();return 0!=a?new Vector2(this.x/a,this.y/a):null};Vector2.prototype.toString=function(){return this.x+" "+this.y};var Vector3=function(a,b,c){Vector2.call(this,a,b);this.z=c};$jscomp.inherits(Vector3,Vector2);
Vector3.prototype.add=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return new Vector3(this.x+a.x,this.y+a.y,this.z+a.z)};Vector3.prototype.sub=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return new Vector3(this.x-a.x,this.y-a.y,this.z-a.z)};Vector3.prototype.mul=function(a){return new Vector3(this.x*a,this.y*a,this.z*a)};Vector3.prototype.div=function(a){return 0!=a?new Vector3(this.x/a,this.y/a,this.z/a):null};Vector3.prototype.neg=function(){return this.mul(-1)};
Vector3.prototype.dot=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return this.x*a.x+this.y*a.y+this.z*a.z};Vector3.prototype.cross=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return new Vector3(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x)};Vector3.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};
Vector3.prototype.dist=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return this.sub(a).mag()};Vector3.prototype.normalize=function(){var a=this.mag();return 0!=a?this.div(a):null};Vector3.prototype.toString=function(){return this.x+" "+this.y+" "+this.z};var Vector4=function(a,b,c,d){Vector3.call(this,a,b,c);this.w=d};$jscomp.inherits(Vector4,Vector3);
Vector4.prototype.add=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return new Vector4(this.x+a.x,this.y+a.y,this.z+a.z,this.w+a.w)};Vector4.prototype.sub=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return new Vector4(this.x-a.x,this.y-a.y,this.z-a.z,this.w-a.w)};Vector4.prototype.mul=function(a){return new Vector4(this.x*a,this.y*a,this.z*a,this.w*a)};
Vector4.prototype.div=function(a){return 0!=a?new Vector4(this.x/a,this.y/a,this.z/a,this.w/a):null};Vector4.prototype.neg=function(){return this.mul(-1)};Vector4.prototype.dot=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w};Vector4.prototype.cross=function(a){return null};Vector4.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)};
Vector4.prototype.dist=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";return this.sub(a).mag()};Vector4.prototype.normalize=function(){var a=this.mag();return 0!=a?this.div(a):null};Vector4.prototype.toString=function(){return this.x+" "+this.y+" "+this.z+" "+this.w};Vector4.prototype.cross=void 0;var Matrix2=function(a){this.data=[];this.size=2;this.vectorType=Vector2;this.setIdentity();"undefined"!==typeof a&&(this.data=a)};
Matrix2.prototype.setIdentity=function(){this.data=[];var a,b;for(a=0;a<this.size;a++)for(b=0;b<this.size;b++)this.set(a,b,a==b?1:0)};Matrix2.prototype.add=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";for(var b=new this.constructor,c=0;c<this.data.length;c++)b.data[c]=this.data[c]+a.data[c]};Matrix2.prototype.sub=function(a){if(a.constructor!=this.constructor)throw"Illegal argument!";for(var b=new this.constructor,c=0;c<this.data.length;c++)b.data[c]=this.data[c]-a.data[c]};
Matrix2.prototype.mul=function(a){var b,c,d,e;switch(a.constructor){case Number:e=new this.constructor;for(d=0;d<this.data.length;d++)e.data[d]=this.data[d]*a;return e;case this.vectorType:var f=["x","y","z","w"];e=new this.vectorType;for(c=0;c<this.size;c++){for(b=d=0;b<this.size;b++)d+=this.get(b,c)*a[f[b]];e[f[c]]=d}return e;case this.constructor:e=new this.constructor;for(b=0;b<this.size;b++)for(c=0;c<this.size;c++){for(d=f=0;d<this.size;d++)f+=this.get(d,c)*a.get(b,d);e.set(b,c,f)}return e;default:throw"Illegal argument!";
}};Matrix2.prototype.get=function(a,b){return this.data[b+a*this.size]};Matrix2.prototype.set=function(a,b,c){this.data[b+a*this.size]=c};Matrix2.prototype.toString=function(){var a="",b,c;for(c=0;c<this.size;c++){for(b=0;b<this.size;b++)a+=this.get(b,c)+" ";a+="\n"}return a.trim()};var Matrix3=function(a){Matrix2.call(this);this.size=3;this.vectorType=Vector3;this.data=[];this.setIdentity();"undefined"!==typeof a&&(this.data=a)};$jscomp.inherits(Matrix3,Matrix2);
var Matrix4=function(a){Matrix3.call(this);this.size=4;this.vectorType=Vector4;this.data=[];this.setIdentity();"undefined"!==typeof a&&(this.data=a)};$jscomp.inherits(Matrix4,Matrix3);Matrix4.translate=function(a){var b=new Matrix4;b.set(3,0,a.x);b.set(3,1,a.y);a.constructor!=Vector3&&a.constructor!=Vector4||b.set(3,2,a.z);a.constructor==Vector4&&b.set(3,3,a.w);return b};
Matrix4.rotate=function(a,b,c,d){var e=new Matrix4,f=Math.cos(a);a=Math.sin(a);var g=1-f;e.set(0,0,b*g+f);e.set(0,1,c*b*g+d*a);e.set(0,2,b*d*g-c*a);e.set(1,0,b*c*g-d*a);e.set(1,1,c*g+f);e.set(1,2,c*d*g+b*a);e.set(2,0,b*d*g+c*a);e.set(2,1,c*d*g-b*a);e.set(2,2,d*g+f);return e};Matrix4.setRotation=function(a,b,c){a=Matrix4.rotate(a,1,0,0);b=Matrix4.rotate(b,0,1,0);c=Matrix4.rotate(c,0,0,1);return a.mul(b.mul(c))};
Matrix4.scale=function(a){var b=new Matrix4;b.set(0,0,a.x);b.set(1,1,a.y);a.constructor!=Vector3&&a.constructor!=Vector4||b.set(2,2,a.z);a.constructor==Vector4&&b.set(3,3,a.w);return b};Matrix4.modelMatrix=function(a,b,c){a=Matrix4.translate(a);b=Matrix4.rotate(b);c=Matrix4.scale(c);return a.mul(b.mul(c))};
